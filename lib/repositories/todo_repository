import 'dart:convert';

import 'package:shared_preferences/shared_preferences.dart';
import 'package:todo_list/models/todo';

class TodoRepository {
    //primeiro inicializa
    TodoRepository() {
        SharedPreferences.getInstance().then((value) => sharedPreferences = value);
    }
    //depois utiliza
    late SharedPreferences sharedPreferences; //será inicializada no futuro, garante que só vamos utilizar a instancia depois de inicializar
    
    void saveTodoList(List<Todo> todos) { //irá receber uma lista de todos
      final String jsonString = json.encode(todos); //converte p/ um obj Jason. Transforma a lista de tarefas em texto
      sharedPreferences.setString('todo_list', jsonString);
    }
}